syntax = "proto3";

message Nothing {}

message Action {
    int32 id = 1;
    string direction = 2;
}

message Object {
    int32 x = 1;
    int32 y = 2;
    string skin = 3;
}

message Snake {
    string id = 1;
    int32 score = 2;
    Object head = 3;
    repeated Object body = 4;
}

message Data {
    repeated Snake snakes = 1;
}

service GameServer {
    rpc GameStream (Nothing) returns (stream Data);
    rpc GameAction (Action) returns (Nothing);
}